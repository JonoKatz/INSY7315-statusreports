@model LeaseLogic.Models.PropertyModel
@{
    ViewData["Title"] = "View Property";
}

<div class="container mt-5" style="font-family: Arial, sans-serif; max-width: 800px;">
    <h2 class="mb-4" style="color:#142943;">@Model.Name</h2>

    @if (Model.Images != null && Model.Images.Any())
    {
        <div class="mb-3">
            @{
                var mainImageBase64 = Convert.ToBase64String(Model.Images.First());
            }
            <img src="data:image/png;base64,@mainImageBase64" alt="Property Image"
                 style="width:300px; height:200px; object-fit:cover; border-radius:8px;" />
        </div>

        @if (Model.Images.Count > 1)
        {
            <div class="mt-4">
                <h5>Other Images:</h5>
                <div class="d-flex flex-wrap gap-2">
                    @foreach (var imgBytes in Model.Images.Skip(1))
                    {
                        var imgBase64 = Convert.ToBase64String(imgBytes);
                        <img src="data:image/png;base64,@imgBase64" alt="Property Image"
                             style="width:150px; height:100px; object-fit:cover; border-radius:5px;" />
                    }
                </div>
            </div>
        }
    }
    else
    {
        <span style="color:#888;">No Image</span>
    }

    <div class="col-md-6 mt-4">
        <table class="table table-borderless">
            <tbody>
                <tr>
                    <th>Price:</th>
                    <td>@($"R{Model.Price:N0}")</td>
                </tr>
                <tr>
                    <th>Location:</th>
                    <td>@Model.Location</td>
                </tr>
                <tr>
                    <th>Size:</th>
                    <td>@Model.Size</td>
                </tr>
                <tr>
                    <th>Status:</th>
                    <td>@Model.Status</td>
                </tr>
                <tr>
                    <th>Description:</th>
                    <td>@(!string.IsNullOrWhiteSpace(Model.Description) ? Model.Description : "No description")</td>
                </tr>
            </tbody>
        </table>

        <a asp-action="Index" class="btn btn-sm btn-outline-secondary mt-3">Back to List</a>
    </div>
</div>
